<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"> 
  <!-- <meta content='#171825' name='theme-color' /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Fjalla+One&display=swap" rel="stylesheet">
  <link rel='icon' type='image/x-icon' href='./images/calculator.png' />
  <title>Calculator</title>
</head>
<body>
  <div class="container">
    <h1>
      <div class="toggle-container">
        <label for="" class="toggle-switch">
          <input type="checkbox" id="toggle-mode"/>
          <span class="toggle-slider"></span>
        </label>
      </div>
      <a href="" class="title" onclick="location.reload();">CALCULATOR</a>
      <img   id="historybutton"   src="./images/history.png" alt="">
    </h1>

    <div class="calculator">
      <input type="text" name="screen" id="answer" readonly>
      <table>
        <tr>
          <td><button>(</button></td>
          <td><button>)</button></td>
          <td>
            <div class="row">
              <div class="col">
                <button onclick="clearAll()">C</button>
              </div>
              <div class="col">
                <button onclick="deleteLastEntry()">CE</button>
              </div>
            </div>
          </td>
          <td><button>%</button></td>
        </tr>

        <tr>
                    <td><button>7</button></td>
                    <td><button>8</button></td>
                    <td><button>9</button></td>
                    <td><button>X</button></td>
        </tr>
        
        <tr>
                <td><button>4</button></td>
                <td><button>5</button></td>
                <td><button>6</button></td>
                <td><button>-</button></td>
        </tr>

        <tr>
                <td><button>1</button></td>
                <td><button>2</button></td>
                <td><button>3</button></td>
                <td><button>+</button></td>
        </tr>

        <tr>
              <td><button>0</button></td>
              <td><button style="font-weight: bold;">.</button></td>
              <td><button>/</button></td>
              <td><button style="background-color: #25db72; font-weight: bold; color: #ecf0f1;">=</button></td>
        </tr>
     </table>
    </div>
  </div>
  
  <div  id="bar1" class="bars"></div>
  <div id="bar2" class="bars"></div>
  <div id="history"></div>
  <div id="turn">
     PLEASE TURN YOUR DEVICE
  </div>
</body>

<script src="script/calc.js"></script>
<script src="script/hist.js"></script>

<script>
  const toggleMode = document.getElementById('toggle-mode')
  const container = document.querySelector('.container')

  toggleMode.addEventListener('change', function(){
          container.classList.toggle('dark-mode');
  });

  document.addEventListener('keydown', function(event){
    handleKeyPress(event.key)
  })


  function handleKeyPress(key){
      
    if(key === 'Enter'){
      handleKeyPress('=')
    }

    if(key === 'Delete' || key === 'Backspace'){
      handleKeyPress('CE')
    }
 
    if(/[0-9]/.test(key)){
       handleKeyPress(key)
    }

    if(/[\+\-\*\/%]/.test(key)){
      handleKeyPress(key)
    }
  }

  function handleKeyPress(value){
    const button = document.querySelector(`button[value = "${value}"]`)
    if(button){
      button.click();
    }
  }
  
</script>
</html>